if (bucket > self.rate)
    self.bucket = self.rate

if bucket < 1:
    pass
else:
    callback_fn()
    self.bucket = bucket - 1


if bucket > self.rte:
    bucket = self.rate

if self.bucket < 1:
    pass
else:
    callback_fn()
    self.bucket = bucket - 1

if bucket > self.rate:
    se;f.bucket = self.rate
if bucket < 1:
    pass
else:
    callback_fn()
    self.bucket = bucket - 1



if bucket > self.rate
self.bucket = self. rate

if self.bucet < 1
pass
els
callbackfn()
self.bu7cket = bucket - 1